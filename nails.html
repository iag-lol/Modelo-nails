<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Luna Nails | Estudio Profesional de Uñas</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      /* Paleta de colores principal */
      --primary: #9d4edd;
      --primary-light: #c77dff;
      --primary-dark: #7b2cbf;
      --secondary: #ff90e8;
      --accent: #ff49db;
      --bg-light: #fdf4ff;
      --bg-card: #ffffff;
      --text-dark: #2a0944;
      --text-medium: #5e3a76;
      --text-light: #8a6ea0;
      --border-light: #f0e0ff;
      
      /* Tamaños y espaciados */
      --radius-sm: 10px;
      --radius-md: 16px;
      --radius-lg: 24px;
      --shadow-sm: 0 4px 12px rgba(157, 78, 221, 0.08);
      --shadow-md: 0 10px 30px rgba(157, 78, 221, 0.12);
      --shadow-lg: 0 20px 40px rgba(157, 78, 221, 0.15);
      
      /* Animaciones */
      --transition: all 0.3s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--bg-light) 0%, #fff8fd 100%);
      color: var(--text-dark);
      line-height: 1.6;
    }
    
    h1, h2, h3, h4 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      line-height: 1.2;
    }
    
    img {
      max-width: 100%;
    }
    
    a {
      text-decoration: none;
      color: inherit;
      transition: var(--transition);
    }
    
    button {
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
      transition: var(--transition);
    }
    
    .container {
      width: 100%;
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Header y navegación */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-light);
    }
    
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
    }
    
    .logo-container {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .logo {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-light), var(--primary-dark));
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(157, 78, 221, 0.3);
    }
    
    .logo::after {
      content: "";
      position: absolute;
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      top: 6px;
      right: 6px;
    }
    
    .brand-name {
      font-family: 'Playfair Display', serif;
      font-weight: 800;
      font-size: 24px;
      background: linear-gradient(to right, var(--primary-dark), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .nav-links {
      display: flex;
      align-items: center;
      gap: 30px;
    }
    
    .nav-link {
      font-weight: 500;
      color: var(--text-medium);
      position: relative;
    }
    
    .nav-link:hover {
      color: var(--primary);
    }
    
    .nav-link::after {
      content: "";
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -4px;
      left: 0;
      background: linear-gradient(to right, var(--primary), var(--accent));
      transition: var(--transition);
    }
    
    .nav-link:hover::after {
      width: 100%;
    }
    
    .salon-status {
      display: flex;
      align-items: center;
      gap: 8px;
      background: white;
      padding: 8px 16px;
      border-radius: 50px;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border-light);
    }
    
    .status-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }
    
    .status-indicator.open {
      background: #4ade80;
      box-shadow: 0 0 0 2px rgba(74, 222, 128, 0.2);
    }
    
    .status-indicator.closing {
      background: #f59e0b;
      box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2);
    }
    
    .status-indicator.closed {
      background: #ef4444;
      box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);
    }
    
    .status-text {
      font-size: 14px;
      font-weight: 500;
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 12px 24px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 15px;
      border: none;
      transition: all 0.3s ease;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      box-shadow: 0 4px 15px rgba(157, 78, 221, 0.3);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(157, 78, 221, 0.4);
    }
    
    .btn-secondary {
      background: white;
      color: var(--primary-dark);
      border: 1px solid var(--border-light);
      box-shadow: var(--shadow-sm);
    }
    
    .btn-secondary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .btn-icon {
      margin-right: 8px;
    }
    
    /* Menu móvil */
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 24px;
      color: var(--primary);
    }
    
    /* Hero Section */
    .hero {
      padding: 60px 0;
      overflow: hidden;
    }
    
    .hero-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      align-items: center;
    }
    
    .hero-text {
      max-width: 550px;
    }
    
    .highlight-tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: white;
      padding: 8px 16px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 14px;
      color: var(--primary);
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border-light);
      margin-bottom: 20px;
    }
    
    .hero-title {
      font-size: 48px;
      margin-bottom: 20px;
      background: linear-gradient(to right, var(--primary-dark), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .hero-description {
      color: var(--text-light);
      margin-bottom: 30px;
      font-size: 18px;
    }
    
    .hero-cta {
      display: flex;
      gap: 15px;
    }
    
    .hero-image-container {
      position: relative;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-lg);
    }
    
    .hero-image {
      width: 100%;
      height: 500px;
      object-fit: cover;
      transform: scale(1.03);
      transition: transform 0.7s ease;
    }
    
    .hero-image:hover {
      transform: scale(1);
    }
    
    .hero-info {
      position: absolute;
      bottom: 20px;
      left: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 15px 20px;
      border-radius: var(--radius-md);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .hero-info-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }
    
    .hero-info-item:last-child {
      margin-bottom: 0;
    }
    
    .hero-info-icon {
      color: var(--primary);
      font-size: 18px;
    }
    
    /* Servicios */
    .services {
      padding: 80px 0;
    }
    
    .section-header {
      text-align: center;
      margin-bottom: 50px;
    }
    
    .section-title {
      font-size: 36px;
      margin-bottom: 15px;
      color: var(--text-dark);
    }
    
    .section-subtitle {
      font-size: 18px;
      color: var(--text-light);
      max-width: 600px;
      margin: 0 auto;
    }
    
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 30px;
    }
    
    .service-card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: var(--transition);
    }
    
    .service-card:hover {
      transform: translateY(-10px);
      box-shadow: var(--shadow-lg);
    }
    
    .service-image {
      height: 200px;
      width: 100%;
      object-fit: cover;
    }
    
    .service-content {
      padding: 25px;
    }
    
    .service-tag {
      display: inline-block;
      padding: 6px 12px;
      background: var(--primary-light);
      color: white;
      border-radius: var(--radius-sm);
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 15px;
    }
    
    .service-title {
      font-size: 20px;
      margin-bottom: 10px;
    }
    
    .service-info {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .service-detail {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 14px;
      color: var(--text-light);
    }
    
    .service-price {
      font-size: 22px;
      font-weight: 700;
      color: var(--primary-dark);
    }
    
    /* Precios */
    .pricing {
      padding: 80px 0;
      background: linear-gradient(135deg, #fff6fe 0%, #f7f2ff 100%);
    }
    
    .price-tabs {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 40px;
    }
    
    .price-tab {
      padding: 10px 20px;
      background: white;
      border: 1px solid var(--border-light);
      border-radius: var(--radius-sm);
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .price-tab.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    .price-content {
      display: none;
    }
    
    .price-content.active {
      display: block;
    }
    
    .price-list {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    
    .price-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 30px;
      border-bottom: 1px solid var(--border-light);
    }
    
    .price-item:last-child {
      border-bottom: none;
    }
    
    .price-item-info {
      flex: 1;
    }
    
    .price-item-title {
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 5px;
    }
    
    .price-item-description {
      color: var(--text-light);
      font-size: 14px;
    }
    
    .price-item-value {
      font-weight: 700;
      color: var(--primary-dark);
      font-size: 20px;
      margin-left: 20px;
    }
    
    .price-notice {
      margin-top: 40px;
      padding: 20px;
      background: white;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .price-notice-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 15px;
      color: var(--primary-dark);
    }
    
    .price-notice-list {
      list-style: none;
    }
    
    .price-notice-item {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin-bottom: 10px;
    }
    
    .price-notice-icon {
      color: var(--primary);
      margin-top: 4px;
    }
    
    /* Reservas */
    .booking {
      padding: 80px 0;
    }
    
    .booking-container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-lg);
    }
    
    .booking-header {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      padding: 30px;
      text-align: center;
    }
    
    .booking-title {
      font-size: 30px;
      margin-bottom: 10px;
    }
    
    .booking-subtitle {
      opacity: 0.8;
      font-size: 16px;
    }
    
    .booking-form {
      padding: 40px;
    }
    
    .form-group {
      margin-bottom: 25px;
    }
    
    .form-label {
      display: block;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text-dark);
    }
    
    .form-control {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid var(--border-light);
      border-radius: var(--radius-sm);
      font-family: 'Poppins', sans-serif;
      font-size: 15px;
      transition: var(--transition);
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary-light);
      box-shadow: 0 0 0 3px rgba(157, 78, 221, 0.1);
    }
    
    .form-helper {
      font-size: 13px;
      color: var(--text-light);
      margin-top: 5px;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    
    .service-options, .addon-options {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }
    
    .checkbox-card {
      position: relative;
    }
    
    .checkbox-input {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .checkbox-label {
      display: block;
      padding: 15px;
      background: #f9f4ff;
      border: 1px solid var(--border-light);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .checkbox-input:checked + .checkbox-label {
      background: var(--primary-light);
      color: white;
      border-color: var(--primary-light);
    }
    
    .checkbox-title {
      font-weight: 600;
      margin-bottom: 5px;
    }
    
    .checkbox-price {
      font-size: 14px;
    }
    
    .date-time-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    
    .time-slots {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }
    
    .time-slot {
      padding: 10px;
      text-align: center;
      background: #f9f4ff;
      border: 1px solid var(--border-light);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .time-slot.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    .time-slot.disabled {
      opacity: 0.5;
      cursor: not-allowed;
      text-decoration: line-through;
    }
    
    .booking-summary {
      background: #f9f4ff;
      border: 1px solid var(--border-light);
      border-radius: var(--radius-md);
      padding: 20px;
      margin-top: 30px;
    }
    
    .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    
    .summary-row:last-child {
      margin-bottom: 0;
      padding-top: 10px;
      border-top: 1px dashed var(--border-light);
    }
    
    .summary-label {
      color: var(--text-medium);
    }
    
    .summary-value {
      font-weight: 600;
    }
    
    .summary-total {
      font-size: 20px;
      font-weight: 700;
      color: var(--primary-dark);
    }
    
    .booking-actions {
      display: flex;
      gap: 15px;
      margin-top: 30px;
    }
    
    .alert {
      padding: 15px;
      border-radius: var(--radius-sm);
      margin-top: 20px;
      display: none;
    }
    
    .alert.success {
      background: #ecfdf5;
      border: 1px solid #a7f3d0;
      color: #065f46;
    }
    
    .alert.show {
      display: block;
    }
    
    /* Galería */
    .gallery {
      padding: 80px 0;
      background: linear-gradient(135deg, #fff6fe 0%, #f7f2ff 100%);
    }
    
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      grid-auto-rows: 300px;
      gap: 20px;
    }
    
    .gallery-item {
      overflow: hidden;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-md);
      position: relative;
      cursor: pointer;
    }
    
    .gallery-item:nth-child(1) {
      grid-column: span 4;
      grid-row: span 1;
    }
    
    .gallery-item:nth-child(2) {
      grid-column: span 8;
      grid-row: span 1;
    }
    
    .gallery-item:nth-child(3) {
      grid-column: span 6;
      grid-row: span 1;
    }
    
    .gallery-item:nth-child(4) {
      grid-column: span 6;
      grid-row: span 1;
    }
    
    .gallery-item:nth-child(5) {
      grid-column: span 5;
      grid-row: span 1;
    }
    
    .gallery-item:nth-child(6) {
      grid-column: span 7;
      grid-row: span 1;
    }
    
    .gallery-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    
    .gallery-item:hover .gallery-image {
      transform: scale(1.05);
    }
    
    .gallery-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
      padding: 20px;
      color: white;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .gallery-item:hover .gallery-overlay {
      opacity: 1;
    }
    
    /* Testimonios */
    .testimonials {
      padding: 80px 0;
    }
    
    .testimonial-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 30px;
    }
    
    .testimonial-card {
      background: white;
      border-radius: var(--radius-lg);
      padding: 30px;
      box-shadow: var(--shadow-md);
      transition: var(--transition);
    }
    
    .testimonial-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    
    .testimonial-content {
      margin-bottom: 20px;
      font-style: italic;
      color: var(--text-medium);
    }
    
    .testimonial-author {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .author-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    .author-info h4 {
      font-size: 16px;
      margin-bottom: 3px;
    }
    
    .author-info p {
      font-size: 14px;
      color: var(--text-light);
    }
    
    .testimonial-rating {
      display: flex;
      gap: 3px;
      margin-top: 5px;
    }
    
    .star {
      color: #fbbf24;
    }
    
    /* Footer */
    footer {
      background: var(--primary-dark);
      color: white;
      padding: 60px 0 30px;
    }
    
    .footer-grid {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 40px;
      margin-bottom: 40px;
    }
    
    .footer-brand {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .footer-brand .logo {
      background: white;
    }
    
    .footer-brand .logo::after {
      background: var(--primary-dark);
    }
    
    .footer-brand .brand-name {
      color: white;
      background: none;
      -webkit-background-clip: initial;
      background-clip: initial;
    }
    
    .footer-about {
      margin-bottom: 20px;
      opacity: 0.8;
    }
    
    .social-links {
      display: flex;
      gap: 15px;
    }
    
    .social-link {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      transition: var(--transition);
    }
    
    .social-link:hover {
      background: white;
      color: var(--primary-dark);
      transform: translateY(-3px);
    }
    
    .footer-title {
      font-size: 18px;
      margin-bottom: 20px;
      color: white;
    }
    
    .footer-links {
      list-style: none;
    }
    
    .footer-link {
      margin-bottom: 10px;
    }
    
    .footer-link a {
      opacity: 0.8;
      transition: var(--transition);
    }
    
    .footer-link a:hover {
      opacity: 1;
      padding-left: 5px;
    }
    
    .contact-info {
      list-style: none;
    }
    
    .contact-item {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      opacity: 0.8;
    }
    
    .contact-icon {
      margin-top: 5px;
    }
    
    .footer-bottom {
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      opacity: 0.7;
      font-size: 14px;
    }
    
    /* Responsive */
    @media (max-width: 1100px) {
      .hero-title {
        font-size: 40px;
      }
      
      .gallery-grid {
        grid-auto-rows: 250px;
      }
      
      .footer-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    @media (max-width: 900px) {
      .hero-content {
        grid-template-columns: 1fr;
      }
      
      .hero-image-container {
        order: -1;
      }
      
      .hero-text {
        text-align: center;
        margin: 0 auto;
      }
      
      .hero-cta {
        justify-content: center;
      }
      
      .form-row, .date-time-container {
        grid-template-columns: 1fr;
      }
      
      .gallery-item {
        grid-column: span 6 !important;
      }
      
      .gallery-item:last-child {
        grid-column: span 12 !important;
      }
    }
    
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .mobile-menu-btn {
        display: block;
      }
      
      .section-title {
        font-size: 30px;
      }
      
      .hero-title {
        font-size: 36px;
      }
      
      .services-grid, .testimonial-grid {
        grid-template-columns: 1fr;
      }
      
      .time-slots {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .gallery-item {
        grid-column: span 12 !important;
      }
      
      .booking-actions {
        flex-direction: column;
      }
      
      .footer-grid {
        grid-template-columns: 1fr;
      }
      
      .footer-bottom {
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
    }
    
    @media (max-width: 500px) {
      .hero-title {
        font-size: 30px;
      }
      
      .service-options, .addon-options {
        grid-template-columns: 1fr;
      }
      
      .time-slots {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .booking-form {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <nav class="navbar">
        <a href="#" class="logo-container">
          <div class="logo"></div>
          <div class="brand-name">Luna Nails</div>
        </a>
        
        <div class="nav-links">
          <a href="#services" class="nav-link">Servicios</a>
          <a href="#pricing" class="nav-link">Precios</a>
          <a href="#booking" class="nav-link">Reservas</a>
          <a href="#gallery" class="nav-link">Galería</a>
          
          <div class="salon-status">
            <span class="status-indicator open" id="statusIndicator"></span>
            <span class="status-text" id="statusText">Abierto hasta 21:00</span>
          </div>
          
          <button class="btn btn-primary" id="mainBookBtn">
            <i class="fas fa-calendar-check btn-icon"></i>Reservar
          </button>
        </div>
        
        <button class="mobile-menu-btn" id="mobileMenuBtn">
          <i class="fas fa-bars"></i>
        </button>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <div class="hero-text">
          <div class="highlight-tag">
            <i class="fas fa-sparkles"></i>
            <span>Diseños exclusivos en gel y acrílico</span>
          </div>
          <h1 class="hero-title">Uñas que hablan por ti, sin largas esperas</h1>
          <p class="hero-description">En <strong>Luna Nails</strong> nos enfocamos en brindarte un servicio personalizado y profesional. Elige tu servicio, extras y hora con confirmación inmediata por WhatsApp.</p>
          <div class="hero-cta">
            <button class="btn btn-primary" id="heroCta">
              <i class="fas fa-calendar-check btn-icon"></i>Reservar ahora
            </button>
            <button class="btn btn-secondary" id="servicesCta">
              <i class="fas fa-spa btn-icon"></i>Ver servicios
            </button>
          </div>
        </div>
        
        <div class="hero-image-container">
          <img src="http://structurenail.com/wp-content/uploads/2025/05/que-estudiar-para-ser-manicurista.jpg" alt="Manicura profesional" class="hero-image">
          <div class="hero-info">
            <div class="hero-info-item">
              <i class="fas fa-map-marker-alt hero-info-icon"></i>
              <span>Av. Las Rosas 250, local 12</span>
            </div>
            <div class="hero-info-item">
              <i class="fas fa-car hero-info-icon"></i>
              <span>Estacionamiento disponible</span>
            </div>
            <div class="hero-info-item">
              <i class="fas fa-wifi hero-info-icon"></i>
              <span>Wi-Fi gratuito</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Servicios -->
  <section class="services" id="services">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Nuestros Servicios</h2>
        <p class="section-subtitle">Ofrecemos tratamientos profesionales para tus uñas con productos de alta calidad y las últimas tendencias en diseño.</p>
      </div>
      
      <div class="services-grid" id="servicesGrid">
        <!-- Los servicios se cargarán dinámicamente desde JavaScript -->
      </div>
    </div>
  </section>
  
  <!-- Precios -->
  <section class="pricing" id="pricing">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Lista de Precios</h2>
        <p class="section-subtitle">Conoce nuestras tarifas para cada servicio. La calidad y el profesionalismo están garantizados.</p>
      </div>
      
      <div class="price-tabs">
        <button class="price-tab active" data-tab="services">Servicios</button>
        <button class="price-tab" data-tab="removals">Retiros</button>
        <button class="price-tab" data-tab="extras">Extras</button>
      </div>
      
      <div class="price-content active" id="servicesTab">
        <div class="price-list">
          <!-- Los precios de servicios se cargarán dinámicamente desde JavaScript -->
        </div>
      </div>
      
      <div class="price-content" id="removalsTab">
        <div class="price-list">
          <!-- Los precios de retiros se cargarán dinámicamente desde JavaScript -->
        </div>
      </div>
      
      <div class="price-content" id="extrasTab">
        <div class="price-list">
          <!-- Los precios de extras se cargarán dinámicamente desde JavaScript -->
        </div>
      </div>
      
      <div class="price-notice">
        <div class="price-notice-title">
          <i class="fas fa-circle-info"></i>
          <span>Información importante</span>
        </div>
        <ul class="price-notice-list">
          <li class="price-notice-item">
            <i class="fas fa-circle-check price-notice-icon"></i>
            <span>Los precios pueden variar si la dificultad del diseño aumenta.</span>
          </li>
          <li class="price-notice-item">
            <i class="fas fa-circle-check price-notice-icon"></i>
            <span>Los cristales están incluidos en el valor del set (a menos que quiera un diseño más elaborado de cristalería).</span>
          </li>
          <li class="price-notice-item">
            <i class="fas fa-circle-check price-notice-icon"></i>
            <span>Las Flores 3D se cobran por separado desde los $1.500.</span>
          </li>
          <li class="price-notice-item">
            <i class="fas fa-circle-check price-notice-icon"></i>
            <span>Los Dijes se cobran por separado desde los $1.000.</span>
          </li>
          <li class="price-notice-item">
            <i class="fas fa-circle-check price-notice-icon"></i>
            <span>Se debe realizar previo abono de $5.000 para reservar cita (no reembolsable).</span>
          </li>
          <li class="price-notice-item">
            <i class="fas fa-circle-check price-notice-icon"></i>
            <span>Se espera máximo 15 minutos de tardanza al llegar a su cita.</span>
          </li>
        </ul>
      </div>
    </div>
  </section>
  
  <!-- Reservas -->
  <section class="booking" id="booking">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Reserva tu Hora</h2>
        <p class="section-subtitle">Selecciona los servicios que deseas y elige la fecha y hora que mejor te convenga.</p>
      </div>
      
      <div class="booking-container">
        <div class="booking-header">
          <h3 class="booking-title">Reserva (1 turno por día)</h3>
          <p class="booking-subtitle">Confirmación inmediata por WhatsApp + evento para tu calendario</p>
        </div>
        
        <div class="booking-form">
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Tu nombre</label>
              <input type="text" class="form-control" id="clientName" placeholder="Camila Soto" required>
            </div>
            
            <div class="form-group">
              <label class="form-label">WhatsApp (opcional)</label>
              <input type="tel" class="form-control" id="clientPhone" placeholder="569XXXXXXXX">
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Servicios</label>
            <div class="service-options" id="serviceOptions">
              <!-- Las opciones de servicios se cargarán dinámicamente desde JavaScript -->
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Extras</label>
            <div class="addon-options" id="addonOptions">
              <!-- Las opciones de extras se cargarán dinámicamente desde JavaScript -->
            </div>
          </div>
          
          <div class="date-time-container">
            <div class="form-group">
              <label class="form-label">Fecha</label>
              <input type="date" class="form-control" id="appointmentDate">
              <p class="form-helper">Si el día ya tiene reserva, quedará bloqueado.</p>
            </div>
            
            <div class="form-group">
              <label class="form-label">Horario (24h)</label>
              <div class="time-slots" id="timeSlots">
                <!-- Las opciones de horario se cargarán dinámicamente desde JavaScript -->
              </div>
              <p class="form-helper" id="endTimeEstimate">Termina aproximadamente a las —</p>
            </div>
          </div>
          
          <div class="booking-summary">
            <div class="summary-row">
              <span class="summary-label">Servicios seleccionados:</span>
              <span class="summary-value" id="selectedServicesText">Ninguno</span>
            </div>
            <div class="summary-row">
              <span class="summary-label">Duración estimada:</span>
              <span class="summary-value" id="durationText">0 min</span>
            </div>
            <div class="summary-row">
              <span class="summary-label">Total a pagar:</span>
              <span class="summary-total" id="totalPrice">$0</span>
            </div>
          </div>
          
          <div class="booking-actions">
            <button class="btn btn-primary" id="whatsappBtn">
              <i class="fab fa-whatsapp btn-icon"></i>Agendar por WhatsApp
            </button>
            <a class="btn btn-secondary" id="calendarBtn" download="reserva.ics" style="display: none">
              <i class="fas fa-calendar-alt btn-icon"></i>Descargar calendario
            </a>
            <button class="btn btn-secondary" id="resetBtn">
              <i class="fas fa-undo btn-icon"></i>Limpiar
            </button>
          </div>
          
          <div class="alert success" id="bookingAlert">
            <i class="fas fa-check-circle"></i> ¡Reserva enviada! Abrimos WhatsApp con tu mensaje y generamos el evento de calendario.
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Galería -->
  <section class="gallery" id="gallery">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Nuestra Galería</h2>
        <p class="section-subtitle">Mira algunos de nuestros mejores trabajos y déjate inspirar para tu próxima visita.</p>
      </div>
      
      <div class="gallery-grid">
        <div class="gallery-item">
          <img src="https://images.unsplash.com/photo-1604902396830-aca29e19b067?q=80&w=1500&auto=format&fit=crop" alt="Diseño de uñas" class="gallery-image">
          <div class="gallery-overlay">
            <h4>Diseño floral</h4>
          </div>
        </div>
        <div class="gallery-item">
          <img src="https://images.unsplash.com/photo-1604654894610-df63bc536371?q=80&w=1800&auto=format&fit=crop" alt="Diseño de uñas" class="gallery-image">
          <div class="gallery-overlay">
            <h4>Acrílicas elegantes</h4>
          </div>
        </div>
        <div class="gallery-item">
          <img src="https://media.glamour.mx/photos/61faac7fe95d4d02a8681e23/3:2/w_2700,h_1800,c_limit/disen%CC%83os-de-un%CC%83as-verse-joven.jpeg" alt="Diseño de uñas" class="gallery-image">
          <div class="gallery-overlay">
            <h4>Nail art creativo</h4>
          </div>
        </div>
        <div class="gallery-item">
          <img src="https://aprende.com/wp-content/uploads/2022/04/unas-piedras-sencillas.png" alt="Diseño de uñas" class="gallery-image">
          <div class="gallery-overlay">
            <h4>Gel con pedrería</h4>
          </div>
        </div>
        <div class="gallery-item">
          <img src="https://gcnails.com.mx/cdn/shop/articles/dot-nails-1653464187.jpg?v=1669227744&width=1100" alt="Diseño de uñas" class="gallery-image">
          <div class="gallery-overlay">
            <h4>Diseño minimalista</h4>
          </div>
        </div>
        <div class="gallery-item">
          <img src="https://images.unsplash.com/photo-1607779097040-26e80aa78e66?q=80&w=1500&auto=format&fit=crop" alt="Diseño de uñas" class="gallery-image">
          <div class="gallery-overlay">
            <h4>Francesas modernas</h4>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Testimonios -->
  <section class="testimonials">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Lo que dicen nuestras clientas</h2>
        <p class="section-subtitle">La satisfacción de nuestras clientas es nuestra mejor carta de presentación.</p>
      </div>
      
      <div class="testimonial-grid">
        <div class="testimonial-card">
          <p class="testimonial-content">"Las uñas más hermosas que he tenido. El servicio es impecable y la atención es de primera. Definitivamente mi lugar favorito para el cuidado de mis uñas."</p>
          <div class="testimonial-author">
            <img src="https://randomuser.me/api/portraits/women/12.jpg" alt="Cliente" class="author-avatar">
            <div class="author-info">
              <h4>Carolina Mendoza</h4>
              <p>Cliente frecuente</p>
              <div class="testimonial-rating">
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
              </div>
            </div>
          </div>
        </div>
        
        <div class="testimonial-card">
          <p class="testimonial-content">"Lo que más me gusta es la puntualidad y el profesionalismo. Mis uñas duran muchísimo y siempre recibo cumplidos por los diseños. Totalmente recomendado."</p>
          <div class="testimonial-author">
            <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Cliente" class="author-avatar">
            <div class="author-info">
              <h4>Valentina Rojas</h4>
              <p>Cliente desde 2023</p>
              <div class="testimonial-rating">
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
              </div>
            </div>
          </div>
        </div>
        
        <div class="testimonial-card">
          <p class="testimonial-content">"El sistema de reservas es súper conveniente y siempre respetan los horarios. Los diseños son hermosos y el lugar es muy acogedor. No cambiaría de salón por nada."</p>
          <div class="testimonial-author">
            <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Cliente" class="author-avatar">
            <div class="author-info">
              <h4>Francisca Gómez</h4>
              <p>Cliente nueva</p>
              <div class="testimonial-rating">
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star star"></i>
                <i class="fas fa-star-half-alt star"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-grid">
        <div>
          <div class="footer-brand">
            <div class="logo"></div>
            <div class="brand-name">Luna Nails</div>
          </div>
          <p class="footer-about">
            Estudio profesional especializado en manicure, pedicure y tratamientos para uñas con los más altos estándares de calidad y las últimas tendencias.
          </p>
          <div class="social-links">
            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
            <a href="#" class="social-link"><i class="fab fa-pinterest"></i></a>
          </div>
        </div>
        
        <div>
          <h3 class="footer-title">Enlaces rápidos</h3>
          <ul class="footer-links">
            <li class="footer-link"><a href="#services">Servicios</a></li>
            <li class="footer-link"><a href="#pricing">Precios</a></li>
            <li class="footer-link"><a href="#booking">Reservas</a></li>
            <li class="footer-link"><a href="#gallery">Galería</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="footer-title">Servicios</h3>
          <ul class="footer-links">
            <li class="footer-link"><a href="#">Manicure Gel</a></li>
            <li class="footer-link"><a href="#">Acrílicas</a></li>
            <li class="footer-link"><a href="#">Pedicure</a></li>
            <li class="footer-link"><a href="#">Nail Art</a></li>
            <li class="footer-link"><a href="#">Retiro Profesional</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="footer-title">Contacto</h3>
          <ul class="contact-info">
            <li class="contact-item">
              <i class="fas fa-map-marker-alt contact-icon"></i>
              <span>Av. Las Rosas 250, local 12</span>
            </li>
            <li class="contact-item">
              <i class="fas fa-phone-alt contact-icon"></i>
              <span>+56 9 1234 5678</span>
            </li>
            <li class="contact-item">
              <i class="fas fa-envelope contact-icon"></i>
              <span>info@lunanails.cl</span>
            </li>
            <li class="contact-item">
              <i class="fas fa-clock contact-icon"></i>
              <span>Lun - Sáb: 9:00 - 21:00</span>
            </li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2025 Luna Nails — Estudio Profesional de Uñas</p>
        <p>Diseñado con ♥ para nuestras clientas</p>
      </div>
    </div>
  </footer>

  <script>
    // Configuración principal
    const SHOP = {
      name: "Luna Nails",
      wa: "56912345678",
      tz: "America/Santiago",
      open: "09:00",
      close: "21:00",
      step: 120 // Intervalos de 2 horas (120 minutos)
    };

    // Servicios
    const SERVICES = [
      {id: 'classic', name: 'Manicure clásica', price: 12990, duration: 40, img: 'https://images.unsplash.com/photo-1604654894610-df63bc536371?q=80&w=1800&auto=format&fit=crop'},
      {id: 'gel', name: 'Manicure gel', price: 17990, duration: 60, img: 'https://images.unsplash.com/photo-1607779097040-26e80aa78e66?q=80&w=1500&auto=format&fit=crop'},
      {id: 'remove', name: 'Retiro gel/acrílico', price: 7990, duration: 30, img: 'https://mujercapacita.cl/wp-content/uploads/elementor/thumbs/13-1-qr6fwza4jqd6bxe8g68jecbopf7t2b7qoyzhqzyzik.png'},
      {id: 'pedi', name: 'Pedicure express', price: 15990, duration: 45, img: 'https://seductressclinicpr.com/cdn/shop/files/15.png?v=1688004785'}
    ];

    // Extras/Add-ons
    const ADDONS = [
      {id: 'nailart', name: 'Nail art (2–4 uñas)', price: 4990, duration: 15},
      {id: 'refuerzo', name: 'Refuerzo/fortalecedor', price: 2990, duration: 10},
      {id: 'francesa', name: 'Francesa', price: 3990, duration: 10}
    ];

    // Servicios adicionales (basados en las imágenes)
    const SERVICES_EXTRA = [
      {name: 'Esmaltado Permanente', price: 10000, duration: 45},
      {name: 'Acrygel Diseño Simple', price: 18000, duration: 70},
      {name: 'Baño de Acrílico 1 color', price: 20000, duration: 75},
      {name: 'Baño de Acrílico Full Set', price: 22000, duration: 90},
      {name: 'Manicura Básica', price: 8000, duration: 30}
    ];

    // Retiros (basados en las imágenes)
    const REMOVALS = [
      {name: 'Retiro de otro lugar', price: 10000, duration: 40},
      {name: 'Solo retiro de mi trabajo', price: 7000, duration: 30},
      {name: 'Retiro mío y nueva postura', price: 5000, duration: 20},
      {name: 'Retiro de Esmaltado P. (otro lugar)', price: 5000, duration: 20},
      {name: 'Retiro de Esmaltado P. (mi trabajo)', price: 3000, duration: 15}
    ];

    // Extras adicionales (basados en las imágenes)
    const EXTRAS = [
      {name: 'Flores 3D', price: 1500, duration: 5, desc: 'Desde $1.500 por flor'},
      {name: 'Dijes decorativos', price: 1000, duration: 2, desc: 'Desde $1.000 por dije'},
      {name: 'Cristalería elaborada', price: 3000, duration: 10, desc: 'Diseños avanzados desde $3.000'},
      {name: 'Diseño personalizado', price: 5000, duration: 15, desc: 'Diseños únicos y especiales'}
    ];

    // Clave para localStorage
    const KEY = 'lunanails_reservas_v3';

    // Utilidades
    const $ = s => document.querySelector(s);
    const $$ = s => document.querySelectorAll(s);
    const CLP = n => n.toLocaleString('es-CL', {style: 'currency', currency: 'CLP'});
    const pad = n => String(n).padStart(2, '0');
    const toMin = t => {const [h, m] = t.split(':').map(Number); return h * 60 + m};
    const toHHMM = m => `${pad(Math.floor(m / 60))}:${pad(m % 60)}`;
    const todayISO = (d = 0) => {
      const x = new Date();
      x.setHours(0, 0, 0, 0);
      x.setDate(x.getDate() + d);
      return x.toISOString().slice(0, 10);
    };

    // Renderizar servicios en la sección de servicios
    function renderServices() {
      const servicesGrid = $('#servicesGrid');
      servicesGrid.innerHTML = SERVICES.map(service => `
        <div class="service-card">
          <img src="${service.img}" alt="${service.name}" class="service-image">
          <div class="service-content">
            <span class="service-tag">Servicio</span>
            <h3 class="service-title">${service.name}</h3>
            <div class="service-info">
              <div class="service-detail">
                <i class="fas fa-clock"></i>
                <span>${service.duration} min</span>
              </div>
            </div>
            <div class="service-price">${CLP(service.price)}</div>
          </div>
        </div>
      `).join('');
    }

    // Renderizar opciones de servicios en el formulario de reserva
    function renderServiceOptions() {
      const serviceOptions = $('#serviceOptions');
      serviceOptions.innerHTML = SERVICES.map(service => `
        <div class="checkbox-card">
          <input type="checkbox" id="service_${service.id}" class="checkbox-input service-checkbox" value="${service.id}">
          <label for="service_${service.id}" class="checkbox-label">
            <div class="checkbox-title">${service.name}</div>
            <div class="checkbox-price">${CLP(service.price)} • ${service.duration} min</div>
          </label>
        </div>
      `).join('');
    }

    // Renderizar opciones de extras en el formulario de reserva
    function renderAddonOptions() {
      const addonOptions = $('#addonOptions');
      addonOptions.innerHTML = ADDONS.map(addon => `
        <div class="checkbox-card">
          <input type="checkbox" id="addon_${addon.id}" class="checkbox-input addon-checkbox" value="${addon.id}">
          <label for="addon_${addon.id}" class="checkbox-label">
            <div class="checkbox-title">${addon.name}</div>
            <div class="checkbox-price">${CLP(addon.price)} • ${addon.duration} min</div>
          </label>
        </div>
      `).join('');
    }

    // Renderizar lista de precios en pestañas
    function renderPriceLists() {
      // Servicios
      const servicesTab = $('#servicesTab .price-list');
      servicesTab.innerHTML = [...SERVICES, ...SERVICES_EXTRA].map(service => `
        <div class="price-item">
          <div class="price-item-info">
            <h4 class="price-item-title">${service.name}</h4>
            <p class="price-item-description">Duración aproximada: ${service.duration} minutos</p>
          </div>
          <div class="price-item-value">${CLP(service.price)}</div>
        </div>
      `).join('');
      
      // Retiros
      const removalsTab = $('#removalsTab .price-list');
      removalsTab.innerHTML = REMOVALS.map(removal => `
        <div class="price-item">
          <div class="price-item-info">
            <h4 class="price-item-title">${removal.name}</h4>
            <p class="price-item-description">Duración aproximada: ${removal.duration} minutos</p>
          </div>
          <div class="price-item-value">${CLP(removal.price)}</div>
        </div>
      `).join('');
      
      // Extras
      const extrasTab = $('#extrasTab .price-list');
      extrasTab.innerHTML = [...ADDONS, ...EXTRAS].map(extra => `
        <div class="price-item">
          <div class="price-item-info">
            <h4 class="price-item-title">${extra.name}</h4>
            <p class="price-item-description">${extra.desc || `Duración aproximada: ${extra.duration} minutos`}</p>
          </div>
          <div class="price-item-value">${CLP(extra.price)}</div>
        </div>
      `).join('');
    }

    // Cambiar entre pestañas de precios
    function setupPriceTabs() {
      const tabs = $$('.price-tab');
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          // Desactivar todas las pestañas y contenidos
          $$('.price-tab').forEach(t => t.classList.remove('active'));
          $$('.price-content').forEach(c => c.classList.remove('active'));
          
          // Activar la pestaña seleccionada
          tab.classList.add('active');
          $(`#${tab.dataset.tab}Tab`).classList.add('active');
        });
      });
    }

    // Actualizar estado de apertura del salón
    function updateSalonStatus() {
      const now = new Date();
      const cur = now.getHours() * 60 + now.getMinutes();
      const openTime = toMin(SHOP.open);
      const closeTime = toMin(SHOP.close);
      
      const indicator = $('#statusIndicator');
      const text = $('#statusText');
      
      indicator.className = 'status-indicator';
      
      if (cur < openTime) {
        indicator.classList.add('closing');
        text.textContent = `Abre en ${Math.floor((openTime - cur) / 60)}h ${(openTime - cur) % 60}min`;
      } else if (cur >= openTime && cur <= closeTime) {
        indicator.classList.add('open');
        text.textContent = `Abierto hasta ${SHOP.close}`;
      } else {
        indicator.classList.add('closed');
        text.textContent = 'Cerrado por hoy';
      }
    }

    // Configurar límites de fecha para el selector
    function setupDateLimits() {
      const dateInput = $('#appointmentDate');
      dateInput.min = todayISO(1); // Desde mañana
      dateInput.max = todayISO(60); // Hasta 60 días después
      if (!dateInput.value) {
        dateInput.value = todayISO(1); // Seleccionar mañana por defecto
      }
      renderTimeSlots();
    }

    // Obtener fechas ya reservadas
    function getBookedDates() {
      try {
        return new Set(JSON.parse(localStorage.getItem(KEY) || '[]').map(r => r.date));
      } catch {
        return new Set();
      }
    }

    // Renderizar slots de tiempo
    function renderTimeSlots() {
      const timeSlots = $('#timeSlots');
      const dateInput = $('#appointmentDate');
      timeSlots.innerHTML = '';
      
      // Comprobar si la fecha ya está reservada
      const bookedDates = getBookedDates();
      if (bookedDates.has(dateInput.value)) {
        timeSlots.innerHTML = '<p class="subtitle" style="grid-column: span 4; text-align: center;">Este día ya está reservado. Por favor, elige otra fecha.</p>';
        return;
      }
      
      // Generar slots de tiempo
      const start = toMin(SHOP.open);
      const end = toMin(SHOP.close);
      const step = SHOP.step;
      
      for (let t = start; t <= end - step; t += step) {
        const slot = document.createElement('button');
        slot.type = 'button';
        slot.className = 'time-slot';
        slot.textContent = toHHMM(t);
        slot.onclick = () => {
          $$('.time-slot').forEach(s => s.classList.remove('active'));
          slot.classList.add('active');
          updateEndTimeEstimate();
          updateSummary();
        };
        timeSlots.appendChild(slot);
      }
    }

    // Actualizar estimación de hora de finalización
    function updateEndTimeEstimate() {
      const activeSlot = $('.time-slot.active');
      const duration = calculateDuration();
      
      if (!activeSlot || !duration) {
        $('#endTimeEstimate').textContent = 'Termina aproximadamente a las —';
        return;
      }
      
      const start = toMin(activeSlot.textContent);
      const end = start + duration;
      
      if (end <= toMin(SHOP.close)) {
        $('#endTimeEstimate').textContent = `Termina aproximadamente a las ${toHHMM(end)}`;
      } else {
        $('#endTimeEstimate').textContent = `⚠️ Fuera del horario (cierre: ${SHOP.close})`;
      }
    }

    // Calcular duración total
    function calculateDuration() {
      const selectedServices = [...$$('.service-checkbox:checked')].map(cb => SERVICES.find(s => s.id === cb.value));
      const selectedAddons = [...$$('.addon-checkbox:checked')].map(cb => ADDONS.find(a => a.id === cb.value));
      
      return [...selectedServices, ...selectedAddons].reduce((total, item) => total + item.duration, 0);
    }

    // Calcular precio total
    function calculateTotal() {
      const selectedServices = [...$$('.service-checkbox:checked')].map(cb => SERVICES.find(s => s.id === cb.value));
      const selectedAddons = [...$$('.addon-checkbox:checked')].map(cb => ADDONS.find(a => a.id === cb.value));
      
      return [...selectedServices, ...selectedAddons].reduce((total, item) => total + item.price, 0);
    }

    // Obtener nombres de servicios seleccionados
    function getSelectedServiceNames() {
      const selectedServices = [...$$('.service-checkbox:checked')].map(cb => SERVICES.find(s => s.id === cb.value));
      const selectedAddons = [...$$('.addon-checkbox:checked')].map(cb => ADDONS.find(a => a.id === cb.value));
      
      return [...selectedServices, ...selectedAddons].map(item => item.name);
    }

    // Actualizar resumen de reserva
    function updateSummary() {
      const duration = calculateDuration();
      const total = calculateTotal();
      const serviceNames = getSelectedServiceNames();
      
      $('#durationText').textContent = `${duration || 0} min`;
      $('#totalPrice').textContent = CLP(total);
      
      if (serviceNames.length > 0) {
        $('#selectedServicesText').textContent = serviceNames.join(', ');
      } else {
        $('#selectedServicesText').textContent = 'Ninguno';
      }
    }

    // Generar enlace de WhatsApp
    function generateWhatsAppLink(text) {
      return `https://wa.me/${SHOP.wa}?text=${encodeURIComponent(text)}`;
    }

    // Generar URL de archivo ICS para calendario
    function generateICS({title, desc, location, dtstart, dtend, tz}) {
      const fmt = x => x.replace(/[-:]/g, '').split('.')[0];
      const ics = [
        'BEGIN:VCALENDAR',
        'VERSION:2.0',
        'PRODID:-//LunaNails//Booking//ES',
        'CALSCALE:GREGORIAN',
        'BEGIN:VEVENT',
        `SUMMARY:${title}`,
        `DESCRIPTION:${desc}`,
        `LOCATION:${location}`,
        `DTSTART;TZID=${tz}:${fmt(dtstart)}`,
        `DTEND;TZID=${tz}:${fmt(dtend)}`,
        'END:VEVENT',
        'END:VCALENDAR'
      ].join('\r\n');
      
      return 'data:text/calendar;charset=utf-8,' + encodeURIComponent(ics);
    }

    // Manejar clic en botón de WhatsApp
    function handleWhatsAppBooking() {
      const clientName = $('#clientName').value.trim();
      const clientPhone = $('#clientPhone').value.trim();
      const date = $('#appointmentDate').value;
      const activeSlot = $('.time-slot.active');
      const serviceNames = getSelectedServiceNames();
      const duration = calculateDuration();
      const total = calculateTotal();
      
      // Validaciones
      if (!clientName) {
        alert('Por favor, ingresa tu nombre.');
        return;
      }
      
      if (serviceNames.length === 0) {
        alert('Por favor, selecciona al menos un servicio.');
        return;
      }
      
      if (!date) {
        alert('Por favor, selecciona una fecha.');
        return;
      }
      
      if (!activeSlot) {
        alert('Por favor, selecciona una hora.');
        return;
      }
      
      const bookedDates = getBookedDates();
      if (bookedDates.has(date)) {
        alert('Lo sentimos, ese día ya está reservado. Por favor, elige otra fecha.');
        return;
      }
      
      const time = activeSlot.textContent;
      
      // Mensaje para WhatsApp
      const message = `Hola! Soy ${clientName}${clientPhone ? ` (${clientPhone})` : ''}.
Quiero reservar en ${SHOP.name}.
Servicios: ${serviceNames.join(', ')}
Fecha y hora: ${date} ${time}
Duración total: ${duration} min
Total estimado: ${CLP(total)}
Gracias!`;
      
      // Guardar reserva en localStorage
      const bookings = JSON.parse(localStorage.getItem(KEY) || '[]');
      bookings.push({
        date,
        start: time,
        duration,
        name: clientName
      });
      localStorage.setItem(KEY, JSON.stringify(bookings));
      
      // Abrir WhatsApp
      window.open(generateWhatsAppLink(message), '_blank');
      
      // Generar archivo ICS
      const dtStart = new Date(`${date}T${time}:00`);
      const dtEnd = new Date(dtStart.getTime() + duration * 60000);
      const icsURL = generateICS({
        title: `${SHOP.name} — ${serviceNames.join(' + ')}`,
        desc: `Reserva. Total aprox: ${CLP(total)}.`,
        location: 'Av. Las Rosas 250, local 12',
        dtstart: dtStart.toISOString(),
        dtend: dtEnd.toISOString(),
        tz: SHOP.tz
      });
      
      const calendarBtn = $('#calendarBtn');
      calendarBtn.href = icsURL;
      calendarBtn.style.display = 'inline-flex';
      
      // Mostrar alerta de éxito
      $('#bookingAlert').classList.add('show');
      setTimeout(() => {
        $('#bookingAlert').classList.remove('show');
      }, 7000);
      
      // Actualizar slots de tiempo
      renderTimeSlots();
    }

    // Función de reinicio del formulario
    function resetForm() {
      $('#clientName').value = '';
      $('#clientPhone').value = '';
      $$('.service-checkbox').forEach(cb => cb.checked = false);
      $$('.addon-checkbox').forEach(cb => cb.checked = false);
      $$('.time-slot.active').forEach(slot => slot.classList.remove('active'));
      
      updateSummary();
      updateEndTimeEstimate();
      
      // Ocultar botón de calendario
      $('#calendarBtn').style.display = 'none';
      
      // Ocultar alerta
      $('#bookingAlert').classList.remove('show');
    }

    // Event Listeners
    function setupEventListeners() {
      // Botones de navegación
      $('#mainBookBtn').addEventListener('click', () => {
        $('#booking').scrollIntoView({behavior: 'smooth'});
      });
      
      $('#heroCta').addEventListener('click', () => {
        $('#booking').scrollIntoView({behavior: 'smooth'});
      });
      
      $('#servicesCta').addEventListener('click', () => {
        $('#services').scrollIntoView({behavior: 'smooth'});
      });
      
      // Formulario de reserva
      $('#appointmentDate').addEventListener('change', renderTimeSlots);
      
      $$('.service-checkbox').forEach(cb => {
        cb.addEventListener('change', () => {
          updateEndTimeEstimate();
          updateSummary();
        });
      });
      
      $$('.addon-checkbox').forEach(cb => {
        cb.addEventListener('change', () => {
          updateEndTimeEstimate();
          updateSummary();
        });
      });
      
      $('#whatsappBtn').addEventListener('click', handleWhatsAppBooking);
      $('#resetBtn').addEventListener('click', resetForm);
      
      // Menú móvil
      $('#mobileMenuBtn').addEventListener('click', () => {
        const nav = $('.nav-links');
        nav.style.display = nav.style.display === 'flex' ? 'none' : 'flex';
      });
    }

    // Inicialización
    document.addEventListener('DOMContentLoaded', () => {
      renderServices();
      renderServiceOptions();
      renderAddonOptions();
      renderPriceLists();
      setupPriceTabs();
      updateSalonStatus();
      setupDateLimits();
      setupEventListeners();
      setInterval(updateSalonStatus, 60000); // Actualizar estado cada minuto
    });
  </script>
</body>
</html>